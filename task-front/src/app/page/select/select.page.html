<ion-header>
  <ion-toolbar color="primary" class="head-pd-side">
    <ion-menu-button slot="start"><ion-icon color="light" name="menu-outline"></ion-icon></ion-menu-button>
    <ion-title>Editar Usuário</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-list class="ion-padding">
    <ion-list>
      <ion-item>
        <ion-input label="Id:" [disabled]="true" [value]="userData.id"></ion-input>
      </ion-item>
      <form [formGroup]="form">
        <ion-item>
          <div class="w-full">
            <ion-input label="Nome:" name="name" formControlName="name"></ion-input>
            <ion-note *ngIf="!form.get('name')?.valid && form.get('name')?.touched" color="danger">{{
              getErrorMessage('name')
              }}</ion-note>
          </div>
        </ion-item>
        <ion-item>
          <div class="w-full">
            <ion-input label="Email:" type="email" name="email" formControlName="email"></ion-input>
            <ion-note *ngIf="!form.get('email')?.valid && form.get('email')?.touched" color="danger">{{
              getErrorMessage('email')
              }}</ion-note>
          </div>
        </ion-item>
        <ion-item>
          <div class="w-full">
            <ion-input label="Senha:" type="password" name="password" formControlName="password"
              placeholder=" Insira sua nova senha"></ion-input>
            <ion-note *ngIf="!form.get('password')?.valid && form.get('password')?.touched" color="danger">{{
              getErrorMessage('password')
              }}</ion-note>
          </div>
        </ion-item>
      </form>

      <ion-item>
        <ion-label>
          <p>Criado em:</p>
          <p>{{userData.created_at}}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <p>Modificado em:</p>
          <p>{{userData.updated_at}}</p>
        </ion-label>
      </ion-item>
    </ion-list>
    <ion-grid>
      <ion-row>
        <ion-col size="6">
          <ion-button expand="block" color="primary" (click)="updateUser()">Atualizar dados</ion-button>
        </ion-col>
        <ion-col size="6">
          <ion-button expand="block" color="danger" id="open-action-sheet">Deletar Usuário</ion-button>
          <ion-action-sheet trigger="open-action-sheet" header="Tem certeza que deseja deletar esse usuário?"
            subHeader="Você sera redirecionado para a tela de listagem de usuários" [buttons]="actionSheetButtons"
            (didDismiss)="onActionSheetDismiss($event)"></ion-action-sheet>

        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-list>
</ion-content>